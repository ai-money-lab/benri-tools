<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>育休給付金シミュレーター - 育児休業給付金を自動計算</title>
<meta name="description" content="月給と育休期間を入力するだけで育児休業給付金・出産育児一時金・出産手当金・給付総額を自動計算。月別の給付スケジュールも表示。">
<meta property="og:title" content="育休給付金シミュレーター - 育児休業給付金を自動計算">
<meta property="og:description" content="月給と育休期間を入力するだけで育児休業給付金・出産育児一時金・出産手当金の給付総額を自動計算。月別タイムラインで受給スケジュールも一目瞭然。">
<meta property="og:type" content="website">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Hiragino Kaku Gothic ProN',Meiryo,sans-serif;background:#fef6f9;color:#333;line-height:1.6;min-width:320px}
.container{max-width:900px;margin:0 auto;padding:16px}
h1{text-align:center;color:#a0345a;font-size:clamp(1.3rem,4vw,1.8rem);margin:16px 0 8px;font-weight:700}
.subtitle{text-align:center;color:#887;font-size:.85rem;margin-bottom:24px}
.card{background:#fff;border-radius:12px;box-shadow:0 2px 12px rgba(180,60,100,.08);padding:24px;margin-bottom:20px}
.card h2{color:#a0345a;font-size:1.1rem;margin-bottom:16px;padding-bottom:8px;border-bottom:2px solid #fce4ec}
.card h2 .icon{margin-right:6px}
.input-group{margin-bottom:20px}
.input-group label{display:block;font-weight:600;margin-bottom:6px;font-size:.9rem;color:#444}
.input-group .hint{font-size:.75rem;color:#999;margin-top:2px}
.input-row{display:flex;align-items:center;gap:12px}
.input-row input[type=range]{flex:1;accent-color:#d4608f;height:6px}
.input-row input[type=number]{width:130px;padding:8px 10px;border:1px solid #dcc;border-radius:6px;font-size:1rem;text-align:right;transition:border-color .2s}
.input-row input[type=number]:focus{outline:none;border-color:#d4608f;box-shadow:0 0 0 2px rgba(212,96,143,.15)}
.input-row .unit{font-size:.85rem;color:#888;white-space:nowrap}
.input-row input[type=date]{flex:1;max-width:220px;padding:8px 10px;border:1px solid #dcc;border-radius:6px;font-size:.95rem;transition:border-color .2s}
.input-row input[type=date]:focus{outline:none;border-color:#d4608f;box-shadow:0 0 0 2px rgba(212,96,143,.15)}
.radio-group{display:flex;flex-wrap:wrap;gap:8px;margin-top:4px}
.radio-group label{display:flex;align-items:center;gap:6px;font-weight:400;padding:8px 16px;border:2px solid #edd;border-radius:8px;cursor:pointer;transition:all .2s;font-size:.9rem;background:#fffafa}
.radio-group label:hover{border-color:#d4608f;background:#fce4ec}
.radio-group input[type=radio]{accent-color:#d4608f;width:16px;height:16px}
.radio-group input[type=radio]:checked+span{color:#d4608f;font-weight:600}
.radio-group label:has(input:checked){border-color:#d4608f;background:#fce4ec}
.result-box{background:linear-gradient(135deg,#fce4ec 0%,#fff0f5 100%);border-radius:12px;padding:20px;text-align:center;margin-bottom:16px}
.result-box .label{font-size:.85rem;color:#555;margin-bottom:4px}
.result-box .amount{font-size:clamp(1.8rem,6vw,2.6rem);font-weight:800;color:#d4608f}
.result-box .sub{font-size:.95rem;color:#666;margin-top:4px}
.result-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-top:16px}
.result-item{background:#fffafa;border-radius:8px;padding:14px;text-align:center;border:1px solid #fce4ec}
.result-item .val{font-size:1.3rem;font-weight:700;color:#a0345a}
.result-item .lbl{font-size:.78rem;color:#888;margin-top:2px}
.result-item .sub-val{font-size:.78rem;color:#999;margin-top:2px}
.timeline{position:relative;padding:20px 0 20px 30px;margin:16px 0}
.timeline::before{content:'';position:absolute;left:14px;top:0;bottom:0;width:3px;background:linear-gradient(180deg,#d4608f,#e91e90);border-radius:2px}
.timeline-item{position:relative;margin-bottom:24px;padding-left:24px}
.timeline-item::before{content:'';position:absolute;left:-22px;top:4px;width:14px;height:14px;border-radius:50%;border:3px solid #d4608f;background:#fff;z-index:1}
.timeline-item.active::before{background:#d4608f}
.timeline-item.accent::before{border-color:#e91e90}
.timeline-item.accent.active::before{background:#e91e90}
.timeline-item .tl-title{font-weight:700;font-size:.95rem;color:#a0345a}
.timeline-item .tl-date{font-size:.8rem;color:#d4608f;font-weight:600;margin-top:2px}
.timeline-item .tl-amount{font-size:.85rem;color:#e91e90;font-weight:700;margin-top:2px}
.timeline-item .tl-desc{font-size:.82rem;color:#888;margin-top:2px}
.breakdown-bar{display:flex;height:32px;border-radius:8px;overflow:hidden;margin:16px 0 8px}
.breakdown-bar .seg{display:flex;align-items:center;justify-content:center;color:#fff;font-size:.7rem;font-weight:600;white-space:nowrap;min-width:30px}
.breakdown-legend{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:16px;font-size:.8rem}
.breakdown-legend .leg-item{display:flex;align-items:center;gap:4px}
.breakdown-legend .leg-dot{width:12px;height:12px;border-radius:3px;flex-shrink:0}
.affiliate-box{background:linear-gradient(135deg,#fce4ec 0%,#f3e5f5 100%);border:2px solid #d4608f;border-radius:12px;padding:20px;text-align:center;margin:20px 0}
.affiliate-box .af-title{font-size:1rem;font-weight:700;color:#a0345a;margin-bottom:8px}
.affiliate-box .af-text{font-size:.85rem;color:#666;margin-bottom:12px}
.affiliate-box a{display:inline-block;color:#fff;text-decoration:none;padding:12px 32px;border-radius:8px;font-weight:700;font-size:1rem;transition:all .2s;margin:4px}
.affiliate-box a.btn-pink{background:#d4608f}
.affiliate-box a.btn-pink:hover{background:#a0345a;box-shadow:0 4px 12px rgba(212,96,143,.3)}
.affiliate-box a.btn-accent{background:#e91e90}
.affiliate-box a.btn-accent:hover{background:#b8177a;box-shadow:0 4px 12px rgba(233,30,144,.3)}
.note{background:#fff3e0;border-radius:8px;padding:12px 16px;font-size:.78rem;color:#888;margin-top:16px;text-align:center;line-height:1.7}
.badge{display:inline-block;padding:2px 8px;border-radius:4px;font-size:.72rem;font-weight:600;margin-left:6px}
.badge-pink{background:#fce4ec;color:#d4608f}
.badge-accent{background:#f3e5f5;color:#e91e90}
.badge-orange{background:#fff3e0;color:#e65100}
footer{text-align:center;color:#aaa;font-size:.75rem;padding:24px 0 16px}
.related-tools{background:#fff5f8;border-radius:12px;padding:20px;margin:20px 0}
.related-tools h3{font-size:1rem;color:#a0345a;margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid #d4608f}
.related-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:8px}
.related-link{display:block;padding:10px 14px;background:#fff;border-radius:8px;text-decoration:none;color:#333;font-size:.9rem;font-weight:500;box-shadow:0 1px 3px rgba(0,0,0,.08);transition:transform .15s,box-shadow .15s}
.related-link:hover{transform:translateY(-1px);box-shadow:0 3px 8px rgba(212,96,143,.2);color:#d4608f}
@media(max-width:600px){
  .input-row{flex-wrap:wrap}
  .input-row input[type=range]{width:100%;flex:unset}
  .input-row input[type=number]{width:100%}
  .input-row input[type=date]{max-width:100%;width:100%}
  .card{padding:16px}
  .result-grid{grid-template-columns:1fr 1fr}
  .radio-group{flex-direction:column}
  .radio-group label{width:100%}
  .affiliate-box a{display:block;margin:6px 0}
  .breakdown-legend{flex-direction:column;gap:6px}
}
@media(max-width:380px){
  .result-grid{grid-template-columns:1fr}
  .container{padding:10px}
}
</style>
</head>
<body>
<div class="container">
  <h1>育休給付金シミュレーター</h1>
  <p class="subtitle">育児休業給付金・出産育児一時金・出産手当金をまとめて自動計算</p>

  <!-- Input Card -->
  <div class="card">
    <h2><span class="icon">&#128221;</span>基本情報を入力</h2>

    <div class="input-group">
      <label>月給（額面・総支給額）</label>
      <div class="input-row">
        <input type="range" id="salaryRange" min="10" max="80" step="1" value="30" oninput="syncSalary(this.value)">
        <input type="number" id="salaryInput" min="5" max="200" step="1" value="30" oninput="syncSalaryNum(this.value)">
        <span class="unit">万円</span>
      </div>
      <div class="hint">残業代・通勤手当を含む総支給額（賞与は含まない）</div>
    </div>

    <div class="input-group">
      <label>育休開始予定日</label>
      <div class="input-row">
        <input type="date" id="startDate" onchange="calc()">
      </div>
      <div class="hint">出産予定日の翌日（産後休業終了後）を目安に入力してください</div>
    </div>

    <div class="input-group">
      <label>育休期間</label>
      <div class="radio-group">
        <label><input type="radio" name="period" value="6" onchange="calc()"><span>6ヶ月</span></label>
        <label><input type="radio" name="period" value="12" checked onchange="calc()"><span>1年</span></label>
        <label><input type="radio" name="period" value="18" onchange="calc()"><span>1年半</span></label>
        <label><input type="radio" name="period" value="24" onchange="calc()"><span>2年</span></label>
      </div>
      <div class="hint">保育所に入れない場合などは最大2年まで延長可能</div>
    </div>
  </div>

  <!-- Result Card -->
  <div class="card" id="resultCard">
    <h2><span class="icon">&#128200;</span>計算結果</h2>
    <div class="result-box">
      <div class="label">給付総額（概算）</div>
      <div class="amount" id="grandTotal">--</div>
      <div class="sub" id="grandTotalSub"></div>
    </div>

    <!-- Breakdown Bar -->
    <div class="breakdown-bar" id="breakdownBar"></div>
    <div class="breakdown-legend" id="breakdownLegend"></div>

    <div class="result-grid">
      <div class="result-item">
        <div class="lbl">育休給付金（最初の6ヶ月）</div>
        <div class="val" id="benefit67">--</div>
        <div class="sub-val" id="benefit67sub"></div>
      </div>
      <div class="result-item">
        <div class="lbl">育休給付金（7ヶ月目以降）</div>
        <div class="val" id="benefit50">--</div>
        <div class="sub-val" id="benefit50sub"></div>
      </div>
      <div class="result-item">
        <div class="lbl">出産育児一時金</div>
        <div class="val" id="lumpSum">--</div>
        <div class="sub-val">健保から一律支給</div>
      </div>
      <div class="result-item">
        <div class="lbl">出産手当金（産休中）</div>
        <div class="val" id="maternityPay">--</div>
        <div class="sub-val" id="maternityPaySub"></div>
      </div>
      <div class="result-item">
        <div class="lbl">育休給付金 合計</div>
        <div class="val" id="benefitTotal">--</div>
        <div class="sub-val" id="benefitTotalSub"></div>
      </div>
      <div class="result-item">
        <div class="lbl">月額の目安（最初の6ヶ月）</div>
        <div class="val" id="monthlyEst">--</div>
        <div class="sub-val">手取り月収の約8割</div>
      </div>
    </div>
  </div>

  <!-- Affiliate 1 -->
  <div class="affiliate-box">
    <div class="af-title">お金の不安をFPに無料相談【マネードクター】</div>
    <div class="af-text">育休中の家計プラン・保険の見直し・教育費の準備まで、お金のプロが無料でアドバイス。オンライン相談も対応。</div>
    <a href="https://fp-moneydoctor.com/" class="btn-pink" rel="nofollow noopener" target="_blank">無料で相談する</a>
  </div>

  <!-- Timeline Card -->
  <div class="card">
    <h2><span class="icon">&#128197;</span>月別 給付スケジュール</h2>
    <div id="timeline" class="timeline"></div>
  </div>

  <!-- Affiliate 2 -->
  <div class="affiliate-box">
    <div class="af-title">確定申告をかんたんに【マネーフォワード クラウド】</div>
    <div class="af-text">育休中の医療費控除・副業収入の確定申告もスマホでかんたん。面倒な書類作成を自動化。</div>
    <a href="https://px.a8.net/svt/ejp?a8mat=3N3VF4+834ZLE+4JGQ+BXB8Z" class="btn-accent" rel="nofollow noopener" target="_blank">無料で試してみる</a>
  </div>

  <div class="note">
    ※ この計算は概算です。正確な情報はハローワーク・健康保険組合・社会保険労務士等の専門家にご相談ください。<br>
    ※ 2026年2月時点の制度に基づいて計算しています。制度改正により変更される場合があります。<br>
    ※ 育児休業給付金には上限額があります（最初の6ヶ月：305,319円/月、7ヶ月目以降：227,850円/月）。<br>
    ※ 出産育児一時金は2023年4月以降の額（50万円）で計算しています。
  </div>

  <div class="related-tools">
    <h3>関連ツール</h3>
    <div class="related-grid">
    <a href="https://ai-money-lab.github.io/benri-tools/salary-calculator/" class="related-link">年収手取り計算機</a>
    <a href="https://ai-money-lab.github.io/benri-tools/insurance-calculator/" class="related-link">生命保険必要額シミュレーター</a>
    <a href="https://ai-money-lab.github.io/benri-tools/pension-calculator/" class="related-link">年金受給額シミュレーター</a>
    <a href="https://ai-money-lab.github.io/benri-tools/tax-calculator/" class="related-link">副業税金シミュレーター</a>
    </div>
  </div>

  <footer>&copy; 2026 AI Money Lab</footer>
</div>

<script>
(function(){
"use strict";

/* ========== Constants ========== */

// 育児休業給付金
var RATE_67 = 0.67;  // 最初の6ヶ月
var RATE_50 = 0.50;  // 7ヶ月目以降
var CAP_67_MONTHLY = 305319;  // 67%時の上限（月額）
var CAP_50_MONTHLY = 227850;  // 50%時の上限（月額）

// 出産育児一時金（2023年4月～）
var BIRTH_LUMP_SUM = 500000;

// 出産手当金: 日額 = 標準報酬日額 × 2/3, 期間 = 98日（産前42日＋産後56日）
var MATERNITY_DAYS = 98;
var MATERNITY_RATE = 2 / 3;

/* ========== Default date ========== */

function setDefaultDate() {
  var d = new Date();
  d.setMonth(d.getMonth() + 3);
  var yyyy = d.getFullYear();
  var mm = String(d.getMonth() + 1).padStart(2, '0');
  var dd = String(d.getDate()).padStart(2, '0');
  document.getElementById('startDate').value = yyyy + '-' + mm + '-' + dd;
}

/* ========== Sync Helpers ========== */

window.syncSalary = function(v) {
  document.getElementById('salaryInput').value = v;
  calc();
};
window.syncSalaryNum = function(v) {
  v = Math.max(5, Math.min(200, parseInt(v) || 5));
  document.getElementById('salaryRange').value = Math.min(v, 80);
  calc();
};

/* ========== Formatting ========== */

function fmt(n) {
  return Math.floor(n).toLocaleString('ja-JP');
}

function fmtMan(n) {
  var man = n / 10000;
  if (man >= 100) return Math.round(man) + '万';
  return man.toFixed(1) + '万';
}

function formatDate(d) {
  return d.getFullYear() + '/' + (d.getMonth() + 1) + '/' + d.getDate();
}

function formatYM(d) {
  return d.getFullYear() + '年' + (d.getMonth() + 1) + '月';
}

function addMonths(date, n) {
  var d = new Date(date);
  d.setMonth(d.getMonth() + n);
  return d;
}

/* ========== Main Calculation ========== */

window.calc = function() {
  var monthlySalary = (parseInt(document.getElementById('salaryInput').value) || 5) * 10000;
  var periodMonths = parseInt(document.querySelector('input[name="period"]:checked').value);
  var startDateStr = document.getElementById('startDate').value;
  var startDate = startDateStr ? new Date(startDateStr) : new Date();

  // --- 育児休業給付金 ---
  // 最初の6ヶ月: 月給 × 67%（上限305,319円/月）
  var months67 = Math.min(periodMonths, 6);
  var monthly67 = Math.min(Math.floor(monthlySalary * RATE_67), CAP_67_MONTHLY);
  var total67 = monthly67 * months67;

  // 7ヶ月目以降: 月給 × 50%（上限227,850円/月）
  var months50 = Math.max(periodMonths - 6, 0);
  var monthly50 = Math.min(Math.floor(monthlySalary * RATE_50), CAP_50_MONTHLY);
  var total50 = monthly50 * months50;

  var benefitTotal = total67 + total50;

  // --- 出産育児一時金 ---
  var lumpSum = BIRTH_LUMP_SUM;

  // --- 出産手当金 ---
  // 標準報酬日額 = 月給 / 30（健保の計算方式）
  var dailyStandard = Math.floor(monthlySalary / 30);
  var dailyMaternity = Math.floor(dailyStandard * MATERNITY_RATE);
  var maternityTotal = dailyMaternity * MATERNITY_DAYS;

  // --- 給付総額 ---
  var grandTotal = benefitTotal + lumpSum + maternityTotal;

  // --- 表示更新 ---
  document.getElementById('grandTotal').textContent = fmt(grandTotal) + '円';
  document.getElementById('grandTotalSub').textContent =
    '育休給付金 + 出産育児一時金 + 出産手当金の合計（約' + fmtMan(grandTotal) + '円）';

  document.getElementById('benefit67').textContent = fmt(total67) + '円';
  document.getElementById('benefit67sub').textContent =
    fmt(monthly67) + '円/月 x ' + months67 + 'ヶ月（67%）';

  if (months50 > 0) {
    document.getElementById('benefit50').textContent = fmt(total50) + '円';
    document.getElementById('benefit50sub').textContent =
      fmt(monthly50) + '円/月 x ' + months50 + 'ヶ月（50%）';
  } else {
    document.getElementById('benefit50').textContent = '0円';
    document.getElementById('benefit50sub').textContent = '6ヶ月以内のため該当なし';
  }

  document.getElementById('lumpSum').textContent = fmt(lumpSum) + '円';

  document.getElementById('maternityPay').textContent = fmt(maternityTotal) + '円';
  document.getElementById('maternityPaySub').textContent =
    '日額' + fmt(dailyMaternity) + '円 x ' + MATERNITY_DAYS + '日';

  document.getElementById('benefitTotal').textContent = fmt(benefitTotal) + '円';
  document.getElementById('benefitTotalSub').textContent =
    '67%期間 + 50%期間の合計';

  document.getElementById('monthlyEst').textContent = fmt(monthly67) + '円';

  // --- Breakdown Bar ---
  drawBreakdownBar(total67, total50, lumpSum, maternityTotal);

  // --- Timeline ---
  buildTimeline(startDate, periodMonths, monthly67, monthly50, months67, months50, dailyMaternity, lumpSum);
};

/* ========== Breakdown Bar ========== */

function drawBreakdownBar(total67, total50, lumpSum, maternityTotal) {
  var grand = total67 + total50 + lumpSum + maternityTotal;
  if (grand <= 0) return;

  var segments = [
    { amount: maternityTotal, color: '#f48fb1', label: '出産手当金' },
    { amount: lumpSum, color: '#e91e90', label: '出産育児一時金' },
    { amount: total67, color: '#d4608f', label: '育休給付金(67%)' },
    { amount: total50, color: '#a0345a', label: '育休給付金(50%)' }
  ];

  var barHtml = '';
  var legendHtml = '';

  segments.forEach(function(seg) {
    if (seg.amount <= 0) return;
    var pct = (seg.amount / grand * 100);
    barHtml += '<div class="seg" style="width:' + pct.toFixed(1) + '%;background:' + seg.color + '">';
    if (pct > 10) {
      barHtml += fmtMan(seg.amount) + '円';
    }
    barHtml += '</div>';
    legendHtml += '<div class="leg-item"><div class="leg-dot" style="background:' + seg.color + '"></div>' +
      seg.label + '：' + fmt(seg.amount) + '円</div>';
  });

  document.getElementById('breakdownBar').innerHTML = barHtml;
  document.getElementById('breakdownLegend').innerHTML = legendHtml;
}

/* ========== Timeline ========== */

function buildTimeline(startDate, periodMonths, monthly67, monthly50, months67, months50, dailyMaternity, lumpSum) {
  var el = document.getElementById('timeline');
  var items = [];

  // 産休開始（育休開始の約3ヶ月半前と仮定 = 98日前）
  var maternityStart = new Date(startDate);
  maternityStart.setDate(maternityStart.getDate() - MATERNITY_DAYS);

  // Step 1: 出産手当金（産休期間）
  items.push({
    title: '産休開始・出産手当金',
    date: formatYM(maternityStart) + '頃～',
    amount: '出産手当金：' + fmt(dailyMaternity * MATERNITY_DAYS) + '円（日額' + fmt(dailyMaternity) + '円 x 98日）',
    desc: '産前42日＋産後56日分。健康保険から支給。',
    active: true,
    accent: false
  });

  // Step 2: 出産・出産育児一時金
  var birthDate = new Date(startDate);
  birthDate.setDate(birthDate.getDate() - 56); // 産後56日で育休開始の場合
  items.push({
    title: '出産・出産育児一時金',
    date: formatYM(birthDate) + '頃',
    amount: '出産育児一時金：' + fmt(lumpSum) + '円（一括支給）',
    desc: '健康保険から出産時に支給。直接支払制度で病院に直接支払われる場合が多い。',
    active: true,
    accent: true
  });

  // Step 3: 育休開始（67%期間）
  items.push({
    title: '育休開始・67%給付スタート',
    date: formatYM(startDate) + '～',
    amount: '',
    desc: '育児休業給付金の支給が始まります。最初の6ヶ月は月給の67%。',
    active: true,
    accent: false
  });

  // Monthly breakdown for 67% period
  for (var i = 0; i < months67; i++) {
    var mDate = addMonths(startDate, i);
    items.push({
      title: (i + 1) + 'ヶ月目',
      date: formatYM(mDate),
      amount: fmt(monthly67) + '円',
      desc: '月給 x 67%' + (monthly67 >= CAP_67_MONTHLY ? '（上限額適用）' : ''),
      active: false,
      accent: false
    });
  }

  // Transition to 50% if applicable
  if (months50 > 0) {
    var transDate = addMonths(startDate, 6);
    items.push({
      title: '7ヶ月目～ 50%給付に切替',
      date: formatYM(transDate) + '～',
      amount: '',
      desc: '育児休業給付金の給付率が50%に切り替わります。',
      active: true,
      accent: true
    });

    for (var j = 0; j < months50; j++) {
      var mDate2 = addMonths(startDate, 6 + j);
      items.push({
        title: (7 + j) + 'ヶ月目',
        date: formatYM(mDate2),
        amount: fmt(monthly50) + '円',
        desc: '月給 x 50%' + (monthly50 >= CAP_50_MONTHLY ? '（上限額適用）' : ''),
        active: false,
        accent: false
      });
    }
  }

  // End
  var endDate = addMonths(startDate, periodMonths);
  items.push({
    title: '育休終了・職場復帰',
    date: formatYM(endDate) + '頃',
    amount: '',
    desc: '育児休業期間が終了し、職場に復帰します。',
    active: true,
    accent: true
  });

  var html = '';
  items.forEach(function(item) {
    var cls = 'timeline-item';
    if (item.active) cls += ' active';
    if (item.accent) cls += ' accent';
    html += '<div class="' + cls + '">';
    html += '<div class="tl-title">' + item.title + '</div>';
    html += '<div class="tl-date">' + item.date + '</div>';
    if (item.amount) {
      html += '<div class="tl-amount">' + item.amount + '</div>';
    }
    html += '<div class="tl-desc">' + item.desc + '</div>';
    html += '</div>';
  });
  el.innerHTML = html;
}

/* ========== Init ========== */

setDefaultDate();
calc();

// Resize handler
var resizeTimer;
window.addEventListener('resize', function() {
  clearTimeout(resizeTimer);
  resizeTimer = setTimeout(calc, 150);
});

})();
</script>
</body>
</html>
